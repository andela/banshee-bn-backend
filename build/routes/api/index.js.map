{"version":3,"sources":["../../../src/routes/api/index.js"],"names":["router","require","Router","use","err","req","res","next","name","status","json","errors","reduce","key","message","module","exports"],"mappings":";;;;;;;;AAAA,IAAMA,SAASC,QAAQ,SAAR,EAAmBC,MAAnB,EAAf;;AAEAF,OAAOG,GAAP,CAAW,GAAX,EAAgBF,QAAQ,SAAR,CAAhB;;AAEAD,OAAOG,GAAP,CAAW,UAASC,GAAT,EAAcC,GAAd,EAAmBC,GAAnB,EAAwBC,IAAxB,EAA8B;AACrC,QAAIH,IAAII,IAAJ,KAAa,iBAAjB,EAAoC;AAChC,eAAOF,IAAIG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACxBC,oBAAQ,oBAAYP,IAAIO,MAAhB,EAAwBC,MAAxB,CAA+B,UAASD,MAAT,EAAiBE,GAAjB,EAAsB;AACzDF,uBAAOE,GAAP,IAAcT,IAAIO,MAAJ,CAAWE,GAAX,EAAgBC,OAA9B;AACA,uBAAOH,MAAP;AACH,aAHO,EAGL,EAHK;AADgB,SAArB,CAAP;AAMH;;AAED,WAAOJ,KAAKH,GAAL,CAAP;AACH,CAXD;;AAaAW,OAAOC,OAAP,GAAiBhB,MAAjB","file":"index.js","sourcesContent":["const router = require(\"express\").Router();\n\nrouter.use(\"/\", require(\"./users\"));\n\nrouter.use(function(err, req, res, next) {\n    if (err.name === \"ValidationError\") {\n        return res.status(422).json({\n            errors: Object.keys(err.errors).reduce(function(errors, key) {\n                errors[key] = err.errors[key].message;\n                return errors;\n            }, {})\n        });\n    }\n\n    return next(err);\n});\n\nmodule.exports = router;\n"]}